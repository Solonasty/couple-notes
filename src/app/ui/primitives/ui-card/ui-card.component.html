<mat-card
  class="ui-note-card"
  [class.ui-note-card--dense]="dense"
  [class.ui-note-card--accent]="accent"
  animate.enter="note-enter"
>
  @if (showTitle) {
    <mat-card-title>{{ title }}</mat-card-title>
  }

  @if (meta) {
    <div class="ui-note-card__meta">{{ meta }}</div>
  }

  <mat-card-content>
    <form class="ui-note-card__form" [formGroup]="form" (ngSubmit)="save.emit()">
      <mat-form-field appearance="outline" class="ui-note-card__full">
        <mat-label>{{ label }}</mat-label>

        <textarea
          matInput
          [rows]="rows"
          formControlName="text"
          [attr.maxlength]="maxLength"
          [placeholder]="placeholder"
        ></textarea>

        <mat-hint align="end">
          {{ count }} / {{ maxLength }}
        </mat-hint>
      </mat-form-field>

      <div class="ui-note-card__actions">
        <button mat-button type="button" (click)="cancel.emit()" [disabled]="busy">
          {{ cancelText }}
        </button>

        <button
          mat-raised-button
          color="primary"
          type="submit"
          [disabled]="busy || form.invalid"
        >
          {{ saveText }}
        </button>
      </div>
    </form>
  </mat-card-content>
</mat-card>
